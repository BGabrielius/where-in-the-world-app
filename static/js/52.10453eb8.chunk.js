"use strict";(self.webpackChunkwhereintheworld=self.webpackChunkwhereintheworld||[]).push([[52],{52:function(a,i,n){n.r(i),n.d(i,{default:function(){return g}});var t=n(4165),e=n(5861),r=n(9439),s=n(2791),l=n(5772),c=n(1933),o=n(9961),m=n(7626),d=n(6042),p=n(9500),h=n(7510),u=n(1044),x={btn:"LibraryItemPage_btn__ypE-O",wrapper:"LibraryItemPage_wrapper__jHz2O",container:"LibraryItemPage_container__3j0vr",imgWrapper:"LibraryItemPage_imgWrapper__0xLON",imgContainer:"LibraryItemPage_imgContainer__zHk8o",mapWrapper:"LibraryItemPage_mapWrapper__faNpP",mapContainer:"LibraryItemPage_mapContainer__9qJH1",statsWrapper:"LibraryItemPage_statsWrapper__L2n9z",statsContainer:"LibraryItemPage_statsContainer__HbIrl",statsLeft:"LibraryItemPage_statsLeft__iVuou",statsRight:"LibraryItemPage_statsRight__CWLEZ",line:"LibraryItemPage_line__66B1f",bordersContainer:"LibraryItemPage_bordersContainer__A5Bh6",countryNameContainer:"LibraryItemPage_countryNameContainer__wqw8V",stats:"LibraryItemPage_stats__dvJcW"},j=n(8820),y=n(184),g=function(){var a=(0,l.UO)().id,i=(0,l.s0)(),n=(0,s.useState)(),g=(0,r.Z)(n,2),b=g[0],v=g[1],_=(0,s.useState)(),f=(0,r.Z)(_,2),N=f[0],I=f[1],C=b?b[0].flags.png:"",L=new Image;L.onload=function(){var a=L.width/L.height;document.documentElement.style.setProperty("--aspect-ratio","".concat(a))},L.src=C;var E={initial:{opacity:0,y:-100},animate:{opacity:1,y:0,transition:{staggerChildren:.2}}},P={initial:{scale:0,x:-100},animate:{scale:1,x:0}},w=(0,c.useQuery)(["country",a],(0,e.Z)((0,t.Z)().mark((function i(){var n;return(0,t.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,u.ZP.get("https://restcountries.com/v3.1/name/".concat(a,"?fullText=true"));case 2:return n=i.sent,i.abrupt("return",n);case 4:case"end":return i.stop()}}),i)})))),W=w.data,Z=null===W||void 0===W?void 0:W.data[0].borders,k=(0,c.useQuery)(["borders",Z],(0,e.Z)((0,t.Z)().mark((function a(){return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.ZP.get("https://restcountries.com/v3.1/alpha?codes=".concat(Z.toString()));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)}))),{enabled:!!Z}),O=k.data,z=k.isLoading;return(0,s.useEffect)((function(){W&&v(W.data),O&&I(O.data)}),[W,b,O]),(0,y.jsxs)("main",{className:x.wrapper,children:[(0,y.jsx)(h.E.div,{className:"".concat(x.btn," btn-back"),onClick:function(){return i("/library")},variants:P,initial:"initial",animate:"animate",transition:{delay:.5},children:(0,y.jsxs)("span",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5em"},children:[(0,y.jsx)(h.E.span,{initial:{x:0,opacity:1},animate:{x:[0,-25],opacity:[1,0]},transition:{repeat:1/0,repeatDelay:2,duration:.75},style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,y.jsx)(j.kyg,{})}),(0,y.jsx)("p",{children:"Back"})]})}),(0,y.jsx)("div",{className:x.container,children:b&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(h.E.div,{className:x.imgWrapper,variants:E,initial:"initial",animate:"animate",children:(0,y.jsx)("div",{className:"".concat(x.imgContainer," img-container"),children:(0,y.jsx)("img",{src:b[0].flags.svg,alt:""})})}),b[0].capital&&b[0].capitalInfo.latlng?(0,y.jsx)(h.E.div,{className:x.mapWrapper,variants:E,initial:"initial",animate:"animate",children:(0,y.jsx)("div",{className:"".concat(x.mapContainer," map-container"),children:(0,y.jsxs)(o.h,{center:b[0].capitalInfo.latlng?[b[0].capitalInfo.latlng[0],b[0].capitalInfo.latlng[1]]:[b[0].latlng[0],b[0].latlng[1]],zoom:10,scrollWheelZoom:!0,minZoom:1,children:[(0,y.jsx)(m.I,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",noWrap:!0}),(0,y.jsx)(d.J,{position:b[0].capitalInfo.latlng&&[b[0].capitalInfo.latlng[0],b[0].capitalInfo.latlng[1]],children:(0,y.jsxs)(p.G,{children:[(0,y.jsx)("b",{children:b[0].capital})," - capital city of"," ",(0,y.jsx)("b",{children:b[0].name.common})]})})]})})}):"There is no viewable land",(0,y.jsxs)(h.E.div,{className:x.statsWrapper,variants:E,initial:"initial",animate:"animate",transition:{delay:.1},children:[(0,y.jsx)("div",{className:x.countryNameContainer,children:(0,y.jsx)(h.E.h2,{initial:{opacity:0},animate:{opacity:[0,0,1]},transition:{duration:1},className:x.countryName,children:b[0].name.common})}),(0,y.jsxs)("div",{className:x.statsContainer,children:[(0,y.jsxs)("div",{className:x.stats,children:[(0,y.jsxs)("div",{className:x.statsLeft,children:[(0,y.jsxs)(h.E.span,{variants:P,initial:"initial",animate:"animate",transition:{delay:.18},children:[(0,y.jsx)("b",{children:"Native Name:"}),(0,y.jsx)("p",{children:Object.values(b[0].name.nativeName)[0].common})]}),(0,y.jsxs)(h.E.span,{variants:P,initial:"initial",animate:"animate",transition:{delay:.22},children:[(0,y.jsx)("b",{children:"Population:"}),(0,y.jsx)("p",{children:(new Intl.NumberFormat).format(b[0].population)})]}),(0,y.jsxs)(h.E.span,{variants:P,initial:"initial",animate:"animate",transition:{delay:.26},children:[(0,y.jsx)("b",{children:"Region:"}),(0,y.jsx)("p",{children:b[0].region})]}),(0,y.jsxs)(h.E.span,{variants:P,initial:"initial",animate:"animate",transition:{delay:.3},children:[(0,y.jsx)("b",{children:"Sub Region:"}),(0,y.jsx)("p",{children:b[0].subregion})]}),(0,y.jsxs)(h.E.span,{variants:P,initial:"initial",animate:"animate",transition:{delay:.34},children:[(0,y.jsx)("b",{children:"Capital:"}),(0,y.jsx)("p",{children:b[0].capital})]})]}),(0,y.jsxs)("div",{style:{display:"flex"},children:[(0,y.jsx)(h.E.div,{className:x.line,variants:P,initial:"initial",animate:"animate",transition:{delay:.36}}),(0,y.jsxs)("div",{className:x.statsRight,children:[(0,y.jsxs)(h.E.span,{variants:P,initial:"initial",animate:"animate",transition:{delay:.38},children:[(0,y.jsx)("b",{children:"Top Level Domain:"}),(0,y.jsx)("p",{children:b[0].tld})]}),(0,y.jsxs)(h.E.span,{variants:P,initial:"initial",animate:"animate",transition:{delay:.42},children:[(0,y.jsx)("b",{children:"Currencies:"}),(0,y.jsx)("p",{children:b[0].currencies?Object.values(b[0].currencies)[0].name:""})]}),(0,y.jsxs)(h.E.span,{variants:P,initial:"initial",animate:"animate",transition:{delay:.46},children:[(0,y.jsx)("b",{children:"Languages:"}),(0,y.jsx)("p",{children:Object.values(b[0].languages).join(", ")})]})]})]})]}),(0,y.jsxs)(h.E.div,{className:x.bordersContainer,variants:E,initial:"initial",animate:"animate",transition:{delay:.5},children:[(0,y.jsx)(h.E.b,{variants:P,initial:"initial",animate:"animate",transition:{delay:.54},children:"Border Countries:"}),z?(0,y.jsx)("span",{className:"country-borders-container",children:"loading..."}):N?N.map((function(a,i){return(0,y.jsx)(h.E.span,{className:"country-borders-container",variants:P,initial:"initial",animate:"animate",transition:{delay:.58},children:a.name.common},"".concat(a.name.common).concat(i))})):(0,y.jsx)(h.E.span,{className:"country-borders-container",variants:P,initial:"initial",animate:"animate",transition:{delay:.58},children:"This country has no borders"})]})]})]})]})})]})}}}]);
//# sourceMappingURL=52.10453eb8.chunk.js.map