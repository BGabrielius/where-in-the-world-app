{"version":3,"file":"static/js/578.3e17794d.chunk.js","mappings":"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","sources":["webpack://whereintheworld/./src/components/DropdownMenu/DropdownMenu.module.css?2bdd","components/DropdownMenu/index.js","components/DropdownMenu/DropdownMenu.tsx","webpack://whereintheworld/./src/pages/Library/LibraryPage.module.css?f1e2","webpack://whereintheworld/./src/components/Pagination/Pagination.module.css?4da5","components/Pagination/index.js","components/Pagination/Pagination.tsx","pages/Library/LibraryPage.tsx","pages/Library/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"DropdownMenu_wrapper__VNs7h\",\"container\":\"DropdownMenu_container__IQ1Jl\",\"button\":\"DropdownMenu_button__gJGQV\",\"optionsList\":\"DropdownMenu_optionsList__3+lUL\",\"show\":\"DropdownMenu_show__mhlnT\",\"option\":\"DropdownMenu_option__R+6VC\",\"border-light-up\":\"DropdownMenu_border-light-up__KE27x\",\"selectedOption\":\"DropdownMenu_selectedOption__77HmS\"};","import DropdownMenu from \"./DropdownMenu\";\r\nexport default DropdownMenu;\r\n","import React, { useState } from \"react\";\r\n\r\nimport styledDropdown from \"./DropdownMenu.module.css\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nimport { IoIosArrowDown, IoIosArrowUp } from \"react-icons/io\";\r\n\r\ninterface Props {\r\n  isChallenge: boolean;\r\n  filterName: string;\r\n  handleFilter: (e: any) => void;\r\n  isOpen?: () => void;\r\n}\r\n\r\nconst DropdownMenu: React.FC<Props> = ({\r\n  isChallenge,\r\n  filterName,\r\n  handleFilter,\r\n  isOpen,\r\n}) => {\r\n  // state\r\n  const [isOptionsOpen, setIsOptionsOpen] = useState<boolean>(false);\r\n  const [selectedOption, setSelectedOption] = useState<number>(0);\r\n  const [isFirstLoad, setIsFirstLoad] = useState<boolean>(true);\r\n\r\n  const optionsList = isChallenge\r\n    ? [\"All\", \"Africa\", \"Asia\", \"Americas\", \"Europe\", \"Oceania\"]\r\n    : [\"Africa\", \"Asia\", \"Americas\", \"Europe\", \"Oceania\"];\r\n\r\n  // functions\r\n  const toggleOptions = () => {\r\n    setIsOptionsOpen(!isOptionsOpen);\r\n    if (isOpen) {\r\n      isOpen();\r\n    }\r\n  };\r\n\r\n  const setSelectedThenCloseDropdown = (index: number) => {\r\n    setIsFirstLoad(false);\r\n\r\n    if (index !== selectedOption || isFirstLoad) {\r\n      handleFilter(optionsList[index]);\r\n      setSelectedOption(index);\r\n      setIsOptionsOpen(false);\r\n      if (isOpen) {\r\n        isOpen();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (index: number) => (e: any) => {\r\n    switch (e.key) {\r\n      case \" \":\r\n      case \"SpaceBar\":\r\n      case \"Enter\":\r\n        e.preventDefault();\r\n        setSelectedThenCloseDropdown(index);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleListKeyDown = (e: any) => {\r\n    switch (e.key) {\r\n      case \"Escape\":\r\n        e.preventDefault();\r\n        setIsOptionsOpen(false);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styledDropdown.wrapper}>\r\n      <div className={styledDropdown.container}>\r\n        <button\r\n          type=\"button\"\r\n          aria-haspopup=\"listbox\"\r\n          aria-expanded={isOptionsOpen}\r\n          className={`region-filter-container ${styledDropdown.button} ${\r\n            isOptionsOpen ? styledDropdown.expanded : \"\"\r\n          }`}\r\n          onClick={toggleOptions}\r\n          onKeyDown={handleListKeyDown}\r\n        >\r\n          {isFirstLoad ? filterName : optionsList[selectedOption]}\r\n          {isOptionsOpen ? (\r\n            <motion.span\r\n              initial={{ y: 0, opacity: 1 }}\r\n              animate={{ y: [-20, 0], opacity: [0, 1] }}\r\n              exit={{ y: 20, opacity: 0 }}\r\n            >\r\n              <IoIosArrowDown />\r\n            </motion.span>\r\n          ) : (\r\n            <motion.span\r\n              initial={{ y: 0, opacity: 1 }}\r\n              animate={{ y: [20, 0], opacity: [0, 1] }}\r\n              exit={{ y: -20, opacity: 0 }}\r\n            >\r\n              <IoIosArrowUp />\r\n            </motion.span>\r\n          )}\r\n        </button>\r\n        <motion.ul\r\n          initial={{ scaleY: 0, opacity: 1 }}\r\n          animate={{\r\n            scaleY: isOptionsOpen ? [0, 1] : [1, 0],\r\n            opacity: [0, 1],\r\n          }}\r\n          viewport={{ once: true }}\r\n          transition={{ duration: 0.3 }}\r\n          style={{ transformOrigin: \"top\", overflow: \"hidden\" }}\r\n          className={`region-filter-container ${styledDropdown.optionsList} ${\r\n            isOptionsOpen ? styledDropdown.show : \"\"\r\n          }`}\r\n          role=\"listbox\"\r\n          aria-activedescendant={optionsList[selectedOption]}\r\n          tabIndex={-1}\r\n          onKeyDown={handleListKeyDown}\r\n        >\r\n          {optionsList.map((option, index) => (\r\n            <motion.li\r\n              whileInView={{ y: [-10 * index, 0], opacity: [0, 1] }}\r\n              initial={{ y: 0, opacity: 0 }}\r\n              transition={{ delay: 0.08 * index }}\r\n              viewport={{ once: true }}\r\n              exit={{ y: -10 }}\r\n              key={option}\r\n              id={option}\r\n              role=\"option\"\r\n              aria-selected={selectedOption === index}\r\n              tabIndex={0}\r\n              onKeyDown={handleKeyDown(index)}\r\n              onClick={() => setSelectedThenCloseDropdown(index)}\r\n              className={`${styledDropdown.option} ${\r\n                selectedOption === index &&\r\n                isFirstLoad === false &&\r\n                styledDropdown.selectedOption\r\n              }`}\r\n            >\r\n              {option}\r\n            </motion.li>\r\n          ))}\r\n        </motion.ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DropdownMenu;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"LibraryPage_wrapper__crJG8\",\"container\":\"LibraryPage_container__245CO\",\"filterContainer\":\"LibraryPage_filterContainer__voSaR\",\"searchContainer\":\"LibraryPage_searchContainer__PAH4r\",\"searchFilter\":\"LibraryPage_searchFilter__noH80\",\"searchIcon\":\"LibraryPage_searchIcon__cbQ2b\",\"regionFilter\":\"LibraryPage_regionFilter__u1+D3\",\"errorMessage\":\"LibraryPage_errorMessage__jyOkI\",\"countriesContainer\":\"LibraryPage_countriesContainer__KX+5T\",\"countryContainer\":\"LibraryPage_countryContainer__J4dZ+\",\"flagContainer\":\"LibraryPage_flagContainer__ubMUh\",\"flag\":\"LibraryPage_flag__00I3K\",\"statsContainer\":\"LibraryPage_statsContainer__-g75A\",\"countryHeadline\":\"LibraryPage_countryHeadline__l-vwZ\",\"countryStats\":\"LibraryPage_countryStats__FtgFs\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Pagination_wrapper__2RUgV\",\"container\":\"Pagination_container__FsZPu\",\"prevnextContainer\":\"Pagination_prevnextContainer__3Y7RU\",\"prevnextBtn\":\"Pagination_prevnextBtn__TDHTb\",\"currentPage\":\"Pagination_currentPage__7K1He\",\"disabledBtn\":\"Pagination_disabledBtn__3So1e\"};","import Pagination from \"./Pagination\";\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nimport styledPagination from \"./Pagination.module.css\";\r\nimport { motion } from \"framer-motion\";\r\n\r\ninterface Props {\r\n  page: number;\r\n  swapPage: (e: any) => void;\r\n  isNextValid: boolean;\r\n}\r\n\r\nconst Pagination: React.FC<Props> = ({ page, swapPage, isNextValid }) => {\r\n  // motion\r\n  const motionContainer = {\r\n    initial: {\r\n      x: 100,\r\n\r\n      scale: 0,\r\n    },\r\n    animate: {\r\n      x: 0,\r\n\r\n      scale: 1,\r\n    },\r\n  };\r\n  const motionItem = {\r\n    initial: {\r\n      scaleX: 0,\r\n\r\n      opacity: 0,\r\n    },\r\n    animate: {\r\n      scaleX: 1,\r\n\r\n      opacity: 1,\r\n    },\r\n  };\r\n  return (\r\n    <motion.div\r\n      className={styledPagination.wrapper}\r\n      variants={motionContainer}\r\n      whileInView={\"animate\"}\r\n      initial={\"initial\"}\r\n      transition={{ duration: 0.5 }}\r\n      viewport={{ once: true }}\r\n    >\r\n      <div className={`${styledPagination.container} pagination-container`}>\r\n        <motion.div\r\n          variants={motionItem}\r\n          whileHover={page === 1 ? {} : { scale: 1.1 }}\r\n          initial={\"initial\"}\r\n          whileInView={\"animate\"}\r\n          viewport={{ once: true }}\r\n          transition={{ duration: 0.5, delay: 0.2 }}\r\n          className={styledPagination.prevnextContainer}\r\n        >\r\n          <motion.button\r\n            onClick={(e) => swapPage(e)}\r\n            className={`${styledPagination.prevnextBtn}  prev-next-btn ${\r\n              page === 1 && styledPagination.disabledBtn\r\n            }`}\r\n            disabled={page === 1}\r\n            value={\"prev\"}\r\n          >\r\n            Prev\r\n          </motion.button>\r\n        </motion.div>\r\n        <motion.div\r\n          initial={{ y: -50, opacity: 0 }}\r\n          whileInView={{ y: 0, opacity: [0, 1] }}\r\n          viewport={{ once: true }}\r\n          transition={{ duration: 0.3, delay: 0.2 }}\r\n        >\r\n          <p className={styledPagination.currentPage}>{page}</p>\r\n        </motion.div>\r\n        <motion.div\r\n          variants={motionItem}\r\n          whileHover={isNextValid ? { scale: 1.1 } : {}}\r\n          initial={\"initial\"}\r\n          whileInView={\"animate\"}\r\n          viewport={{ once: true }}\r\n          transition={{ duration: 0.5, delay: 0.2 }}\r\n          className={`${styledPagination.prevnextContainer} prev-next-container`}\r\n        >\r\n          <motion.button\r\n            onClick={(e) => swapPage(e)}\r\n            className={` ${styledPagination.prevnextBtn} prev-next-btn ${\r\n              !isNextValid && styledPagination.disabledBtn\r\n            }`}\r\n            disabled={!isNextValid}\r\n            value={\"next\"}\r\n          >\r\n            Next\r\n          </motion.button>\r\n        </motion.div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import { useEffect, useState, useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useQuery } from \"react-query\";\r\nimport axios from \"axios\";\r\nimport { motion, useScroll } from \"framer-motion\";\r\n\r\nimport styledLibrary from \"./LibraryPage.module.css\";\r\nimport { BiSearch } from \"react-icons/bi\";\r\n\r\nimport DropdownMenu from \"../../components/DropdownMenu\";\r\nimport Pagination from \"../../components/Pagination\";\r\n\r\nconst fetchCountries = async (\r\n  host: string,\r\n  multiplier: number,\r\n  page: number\r\n) => {\r\n  const data = await axios.get(host);\r\n  const countriesPerMultiplier = 12;\r\n  const firstIndex = page === 1 ? 60 : (page - 1) * 60;\r\n  const lastIndex =\r\n    multiplier * countriesPerMultiplier === 60 * (page - 1)\r\n      ? firstIndex\r\n      : multiplier * countriesPerMultiplier;\r\n\r\n  const paginatedData =\r\n    page === 1\r\n      ? data.data.slice(0, lastIndex)\r\n      : data.data.slice(firstIndex, lastIndex);\r\n\r\n  let moreCountries: boolean;\r\n\r\n  if (data.data.length <= multiplier * countriesPerMultiplier) {\r\n    moreCountries = false;\r\n  } else {\r\n    moreCountries = true;\r\n  }\r\n\r\n  const fetchedData = {\r\n    paginated: paginatedData,\r\n    allCountries: data.data,\r\n    isMoreCountries: moreCountries,\r\n  };\r\n  return fetchedData;\r\n};\r\n\r\nconst LibraryPage = () => {\r\n  // -- navigation\r\n  const navigate = useNavigate();\r\n\r\n  // -- state\r\n  const [host, setHost] = useState<string>(\r\n    \"https://restcountries.com/v3.1/all\"\r\n  );\r\n  const [countries, setCountries] = useState<any>();\r\n  const [message, setMessage] = useState<string>(\"\");\r\n  const [multiplier, setMultiplier] = useState<number>(1);\r\n  const [page, setPage] = useState<number>(1);\r\n\r\n  // --- state (input)\r\n  const [searchInputValue, setSearchInputValue] = useState<string>(\"\");\r\n\r\n  // --- state (checker)\r\n  const [isValidNext, setIsValidNext] = useState<boolean>(false);\r\n\r\n  // --- state (for styling)\r\n  const [currentStyle, setCurrentStyle] = useState({\r\n    display: \"none\",\r\n    width: \"2%\",\r\n  });\r\n\r\n  // -- Query\r\n  const { data, isLoading, isFetching, isError } = useQuery(\r\n    [\"countries\", host, multiplier, page],\r\n    () => fetchCountries(host, multiplier, page),\r\n    {\r\n      staleTime: 300,\r\n      onError: () => {\r\n        if (searchInputValue) {\r\n          setMessage(\r\n            \"Sorry, there are no countries that would match your search\"\r\n          );\r\n        } else {\r\n          setMessage(\"Sorry an error has accured while fetching\");\r\n        }\r\n      },\r\n      retry: 0,\r\n    }\r\n  );\r\n\r\n  // -- refs\r\n  let errorCount = useRef<number>(0);\r\n\r\n  // -- motion\r\n  const { scrollY } = useScroll();\r\n\r\n  const motionItem = {\r\n    initial: {\r\n      opacity: 0.2,\r\n      x: -100,\r\n\r\n      scale: 0.9,\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      x: 0,\r\n\r\n      scale: 1,\r\n    },\r\n  };\r\n\r\n  // -- side effects\r\n  useEffect(() => {\r\n    if (data) {\r\n      setMessage(\"\");\r\n      setCountries(data.paginated);\r\n      setIsValidNext(data.isMoreCountries);\r\n    } else if (isLoading) setMessage(\"Loading...\");\r\n\r\n    window.addEventListener(\"scroll\", throttledHandleScroll);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", throttledHandleScroll);\r\n    };\r\n  }, [data, isLoading, isFetching, isError]);\r\n\r\n  // functions\r\n  // Throttle (disabled)\r\n  const throttle = (func: (...args: any[]) => void, delay: number) => {\r\n    let timeoutId: ReturnType<typeof setTimeout> | null;\r\n    return (...args: any[]) => {\r\n      if (!timeoutId) {\r\n        timeoutId = setTimeout(() => {\r\n          func(...args);\r\n          timeoutId = null;\r\n        }, delay);\r\n      }\r\n    };\r\n  };\r\n\r\n  const handleScroll = () => {\r\n    if (\r\n      data?.isMoreCountries === false ||\r\n      isFetching ||\r\n      data?.paginated.length % 60 === 0\r\n    )\r\n      return;\r\n    let scrolledEnough = false;\r\n    const scrollHeight = Math.max(\r\n      document.documentElement.scrollHeight,\r\n      document.body.scrollHeight\r\n    );\r\n    const clientHeight = document.documentElement.clientHeight;\r\n    const scrollPercentage =\r\n      (scrollY.get() / (scrollHeight - clientHeight)) * 100;\r\n    if (scrollPercentage >= 90) {\r\n      scrolledEnough = true;\r\n    } else if (scrollPercentage < 90) {\r\n      scrolledEnough = false;\r\n    }\r\n    if (scrolledEnough && scrollPercentage >= 90) {\r\n      loadMoreCountries();\r\n      scrolledEnough = false;\r\n    }\r\n  };\r\n  const throttledHandleScroll = throttle(handleScroll, 0);\r\n\r\n  const filterByRegion = (e: any) => {\r\n    setHost(`https://restcountries.com/v3.1/region/${e}`);\r\n    setPage(1);\r\n    setMultiplier(1);\r\n  };\r\n\r\n  const filterBySearch = (e: any) => {\r\n    if (!e.target.value) {\r\n      setHost(\"https://restcountries.com/v3.1/all\");\r\n      setPage(1);\r\n      errorCount.current = 0;\r\n    } else if (isError || errorCount.current !== 0) {\r\n      if (errorCount.current === 0) {\r\n        errorCount.current = e.target.value.length;\r\n      } else if (\r\n        errorCount.current !== 0 &&\r\n        errorCount.current > e.target.value.length\r\n      ) {\r\n        setHost(`https://restcountries.com/v3.1/name/${e.target.value}`);\r\n        setPage(1);\r\n        setSearchInputValue(e.target.value);\r\n        setMultiplier(1);\r\n        errorCount.current = 0;\r\n      } else {\r\n        return;\r\n      }\r\n    } else if (e.target.value) {\r\n      setHost(`https://restcountries.com/v3.1/name/${e.target.value}`);\r\n      setPage(1);\r\n      setSearchInputValue(e.target.value);\r\n      setMultiplier(1);\r\n      errorCount.current = 0;\r\n    }\r\n  };\r\n  const throttledSearchFilter = throttle(filterBySearch, 200);\r\n  const loadMoreCountries = () => {\r\n    setMultiplier(multiplier + 1);\r\n  };\r\n  const handleResetScroll = (type: string) => {\r\n    if (type === \"prev\") {\r\n      const { scrollHeight } = window.document.documentElement;\r\n      window.scrollTo(0, scrollHeight - window.innerHeight);\r\n    }\r\n    if (type === \"next\") window.scrollTo(0, 0);\r\n  };\r\n  const swapPage = (e: any) => {\r\n    if (e.target.value === \"prev\") {\r\n      if (page > 1) {\r\n        setPage((prev: any) => prev - 1);\r\n        setMultiplier((prev: any) => prev - 5);\r\n        handleResetScroll(\"prev\");\r\n      }\r\n    }\r\n    if (e.target.value === \"next\") {\r\n      setPage((prev: any) => prev + 1);\r\n      loadMoreCountries();\r\n      handleResetScroll(\"next\");\r\n    }\r\n  };\r\n\r\n  const setCurrentSearchDisplay = () => {\r\n    setCurrentStyle({\r\n      ...currentStyle,\r\n      display: currentStyle.display === \"none\" ? \"block\" : \"none\",\r\n      width: currentStyle.width === \"2%\" ? \"90%\" : \"2%\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <main className={styledLibrary.wrapper}>\r\n      <div className={styledLibrary.container}>\r\n        <div className={styledLibrary.filterContainer}>\r\n          <div\r\n            className={`${styledLibrary.searchContainer} search-filter-container`}\r\n            style={{ width: currentStyle.width }}\r\n          >\r\n            <BiSearch\r\n              className={styledLibrary.searchIcon}\r\n              onClick={setCurrentSearchDisplay}\r\n            />\r\n            <input\r\n              type=\"search\"\r\n              onChange={throttledSearchFilter}\r\n              placeholder=\"Search for a country...\"\r\n              className={styledLibrary.searchFilter}\r\n              style={{ display: currentStyle.display }}\r\n            />\r\n          </div>\r\n          <DropdownMenu\r\n            isChallenge={false}\r\n            filterName=\"Filter by Region\"\r\n            handleFilter={filterByRegion}\r\n          />\r\n        </div>\r\n        {message && <p className={styledLibrary.errorMessage}>{message}</p>}\r\n        <motion.div className={styledLibrary.countriesContainer}>\r\n          {countries ? (\r\n            countries.map((item: any) => (\r\n              <motion.div\r\n                variants={motionItem}\r\n                initial=\"initial\"\r\n                whileInView=\"animate\"\r\n                viewport={{ once: true }}\r\n                transition={{ type: \"spring\", duration: 0.15, stiffness: 75 }}\r\n                key={item.name.common}\r\n                className={`${styledLibrary.countryContainer} country-card-container`}\r\n                onClick={() =>\r\n                  navigate(`/library/${item.name.common.toLowerCase()}`)\r\n                }\r\n              >\r\n                <div className={styledLibrary.flagContainer}>\r\n                  <img\r\n                    src={item.flags.png}\r\n                    alt={item.cca2}\r\n                    className={styledLibrary.flag}\r\n                  />\r\n                </div>\r\n                <div\r\n                  className={`${styledLibrary.statsContainer} country-card-summary`}\r\n                >\r\n                  <h3 className={styledLibrary.countryHeadline}>\r\n                    {item.name.common}\r\n                  </h3>\r\n\r\n                  <span className={styledLibrary.countryStats}>\r\n                    <b>Population: </b>\r\n                    <p>{new Intl.NumberFormat().format(item.population)}</p>\r\n                  </span>\r\n                  <span className={styledLibrary.countryStats}>\r\n                    <b>Region: </b>\r\n                    <p>{item.region}</p>\r\n                  </span>\r\n                  <span\r\n                    className={`${styledLibrary.countryStats} ${styledLibrary.capital}`}\r\n                  >\r\n                    {item.capital && (\r\n                      <>\r\n                        <b>Capital: </b>\r\n                        <p>{item.capital[0]}</p>\r\n                      </>\r\n                    )}\r\n                  </span>\r\n                </div>\r\n              </motion.div>\r\n            ))\r\n          ) : (\r\n            <div></div>\r\n          )}\r\n        </motion.div>\r\n        {data?.paginated.length === 60 ||\r\n        page === 5 ||\r\n        (data?.isMoreCountries === false && data.allCountries.length > 60) ? (\r\n          <Pagination\r\n            page={page}\r\n            swapPage={swapPage}\r\n            isNextValid={isValidNext}\r\n          />\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default LibraryPage;\r\n","import LibraryPage from \"./LibraryPage\";\r\n\r\nexport default LibraryPage;\r\n"],"names":["isChallenge","filterName","handleFilter","isOpen","useState","isOptionsOpen","setIsOptionsOpen","selectedOption","setSelectedOption","isFirstLoad","setIsFirstLoad","optionsList","setSelectedThenCloseDropdown","index","handleKeyDown","e","key","preventDefault","handleListKeyDown","className","styledDropdown","type","onClick","onKeyDown","motion","initial","y","opacity","animate","exit","scaleY","viewport","once","transition","duration","style","transformOrigin","overflow","role","tabIndex","map","option","whileInView","delay","id","page","swapPage","isNextValid","motionItem","scaleX","styledPagination","variants","x","scale","whileHover","disabled","value","fetchCountries","host","multiplier","axios","data","firstIndex","lastIndex","paginatedData","slice","moreCountries","length","fetchedData","paginated","allCountries","isMoreCountries","navigate","useNavigate","setHost","countries","setCountries","message","setMessage","setMultiplier","setPage","searchInputValue","setSearchInputValue","isValidNext","setIsValidNext","display","width","currentStyle","setCurrentStyle","useQuery","staleTime","onError","retry","isLoading","isFetching","isError","errorCount","useRef","scrollY","useScroll","useEffect","window","addEventListener","throttledHandleScroll","removeEventListener","throttle","func","timeoutId","args","setTimeout","scrolledEnough","scrollHeight","Math","max","document","documentElement","body","clientHeight","scrollPercentage","get","loadMoreCountries","throttledSearchFilter","target","current","handleResetScroll","scrollTo","innerHeight","styledLibrary","onChange","placeholder","DropdownMenu","item","stiffness","name","common","toLowerCase","src","flags","png","alt","cca2","Intl","NumberFormat","format","population","region","capital","prev"],"sourceRoot":""}